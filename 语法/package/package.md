


## 包定义

包名的定义是不包括目录路径的

比如在`GOPATH/src/a/b/` 下定义一个包 `c`。在包 c 的源码中只需声明为
```go
package c
```

### 注意
  1. 一个目录下的同级文件归属一个包。
  2. 包名可以与其目录不同名。
  3. 包名为 main 的包为应用程序的入口包，编译源码没有 main 包时，将无法编译输出可执行的文件。

## 包引用
导入 c 包时，需要带上路径，
```go
import "a/b/c"
```

### 注意
1. 所有导入的包必须在每个文件的开头显式声明 (编译器就没有必要读取和分析整个源文件)
2. 禁止包的环状依赖，因为没有循环依赖，包的依赖关系形成一个有向无环图 (每个包可以被独立编译，而且很可能是被并发编译。)


### 全路径导入 / 绝对路径导入
绝对路径就是`GOROOT/src/`或`GOPATH/src/`

标准包的导入只能使用全路径导入。
```go
import "lab/test" //其源码位于GOPATH/src/lab/test 目录下；
```
### 相对路径导入


## 包的init初始化
1. 程序从main 函数开始, 逐级查找包的import引用，直到找到没有import的包，最终生成一个包引用的有向无环图
2. Go 编译器会将有向无环图转换为一棵树，然后从树的叶子节点开始**逐层向上**对包进行初始化。
3. 先初始化常量，然后是全局变量，最后执行包的 init 函数
4. 一个包可以有多个 init 函数，**包加载时会执行全部的 init 函数**，但并不能保证执行顺序

例:
包引用关系：main→A→B→C; 
这些包的 init() 函数调用顺序为：
C.init→B.init→A.init→main


### 匿名导入包
只希望导入包 触发 init() 函数调用，而不使用任何包内的结构和类型，也不调用包内的其他任何函数
```go
import (
    _ "path/to/package" //下画线_表示匿名导入包
)
```


## 封装
结构体、字段的

首字母大写 相当于 public。

首字母小写 相当于 private。

## 习惯用法：
- 包名一般是小写的，使用一个简短且有意义的名称。
- 包名一般要和所在的目录同名，也可以不同，包名中不能包含- 等特殊符号。
- 包一般使用域名作为目录名称，这样能保证包名的唯一性，比如 GitHub 项目的包一般会放到GOPATH/src/github.com/userName/projectName 目录下。
- 包名为 main 的包为应用程序的入口包，编译不包含 main 包的源码文件时不会得到可执行文件。
- 一个文件夹下的所有源码文件只能属于同一个包，同样属于同一个包的源码文件不能放在多个文件夹下。
